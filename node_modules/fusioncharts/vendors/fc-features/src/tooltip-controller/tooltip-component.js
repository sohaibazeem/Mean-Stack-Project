import{hasSVG}from'../../../fc-core/src/lib';const FC_TOOLTIP_CLASS='fc__tooltip',GUTTER_12=12;let UNDEF,_getContainerBounds=function(a){let b=a.getBoundingClientRect();return{left:0,top:0,right:b.width||b.right-b.left,bottom:b.height||b.bottom-b.top}};class ToolTip{constructor(a,b){let c=this;c.text='',c.x=0,c.y=0,c.visibleWidth=0,c.universe=a,c.setUniverseBounds(b||_getContainerBounds(a)),c.data={active:!1,target:!1},c.element=c.createElement(a)}setUniverseBounds(a){this.universeBounds=a||this.universe&&_getContainerBounds(this.universe)}createElement(a){let b=document.createElement('div');return b.setAttribute('class',FC_TOOLTIP_CLASS),b.className+=' fusioncharts-div',b.innerHTML=this.text,b.style.color='#545454',b.style.padding='3px',b.style.fontSize='10px',b.style.overflow='hidden',b.style.borderWidth='1px',b.style.borderColor='#000000',b.style.whiteSpace='nowrap',b.style.position='absolute',b.style.borderStyle='solid',b.style.backgroundColor='#ffffff',b.style['user-select']='none',b.style['-ms-user-select']='none',b.style['-moz-user-select']='none',b.style['-webkit-user-select']='none',b.style['-webkit-touch-callout']='none',b.style.top=this.x+'px',b.style.left=this.y+'px',b.style.visibility='hidden',b.style['pointer-events']='none',a.appendChild(b),b}setData(a,b){this.data[a]=b}getData(a){return this.data[a]}setStyle(a){var b=this.element,c=b.style;c.color=a.fontColor,hasSVG?(c.backgroundColor=a.bgColor,c.borderColor=a.borderColor,c.boxShadow=a.showToolTipShadow?'1px 1px 3px rgba(64,64,64,0.4)':'none'):(c.backgroundColor=a.rawBgColor,c.borderColor=a.rawBorderColor),c.fontFamily=a['font-family'],c.fontSize=a['font-size']+'px',c.fontWeight=a['font-weight']||'normal',c.borderWidth=a.borderThickness+'px',c.borderRadius=a.borderRadius+'px',c.padding=a.padding+'px',a.border&&(c.border=a.border),a.background&&(c.background=a.background)}show(a){this.text!==a&&(this.text=a,this.element.innerHTML=this.text),this.setData('active',!0),'visible'!==this.element.style.visibility&&(this.element.style.visibility='visible'),this.element.style['will-change']='left, top',this.element.style['max-width']=this.universeBounds.right-this.universeBounds.left-24+'px'}update(a=this.x,b=this.y,c){let d=this.universe.clientWidth,e=c.left+GUTTER_12,f=this.universe.clientHeight-GUTTER_12,g=this.universeBounds.right-this.universeBounds.left-24,h=this.element,i=h.offsetWidth,j=h.offsetHeight,k=h.style;a+i<d?(k.left=a+'px',k.whiteSpace='nowrap'):i<g?k.left=a-i-GUTTER_12+'px':(k.left=e+'px',k.whiteSpace='normal'),k.top=b+j<f?b+'px':f-j+'px'}hide(){this.y=0,this.x=0,this.x='',this.setData('active',!1),this.setData('target',!1),this.element.style.visibility='hidden',this.element.style['will-change']='auto',this.element.innerHTML='',this.text=UNDEF}dispose(){this.hide(),this.universe.removeChild(this.element),this.universe=void 0,this.disposed=!0}}export default ToolTip;