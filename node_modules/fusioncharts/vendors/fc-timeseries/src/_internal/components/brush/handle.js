import{SmartRenderer}from'../../../../../fc-core/src/component-interface';import{getTouchEvent,getDarkColor}from'../../../../../fc-core/src/lib';class Handle extends SmartRenderer{constructor(){super(),this._dimensions={}}__setDefaultConfig(){super.__setDefaultConfig(),this.config.defaultStyle={fill:'#dfdfdf',stroke:'none',cursor:'ew-resize'}}configureAttributes(a={}){super.configureAttributes(a);let b=this,c=b.config,d=c.defaultStyle,e=a.handleStyle;c.style=Object.assign({},d,e),c.orientation=a.orientation,c.type=a.type}setDimension(a){this._dimensions=a}getDimension(){return this._dimensions}attachHandlers(){let a,b,c,d,f,g=this,h=g.getLinkedParent(),i=h.getFromEnv('timeNavigator');g.addEventListener('fc-dragstart',g.dragstartHandler||(g.dragstartHandler=function(c){b=getTouchEvent(c).clientX,a=h.getCurrentBrushDimensions()})),g.addEventListener('fc-dragmove',g.dragmoveHandler||(g.dragmoveHandler=function(h){c=getTouchEvent(h).clientX-b,'leftHandle'===g.config.type?(d=a.x+c,f=a.x+a.width):(d=a.x,f=a.x+a.width+c),g.getFromEnv('animationManager').setAnimationState('timenavSqueeze'),i.validateDomain([d,f],g.config.type)}))}draw(){let a=this,b=a.config,c=b.style,d=a.getDimension(),e=d.x,f=d.y,g=d.width,h=d.height,i=c.fill?`#${getDarkColor(c.fill,60)}`:'#808080';a.addGraphicalElement({el:'rect',attr:{x:e,y:f,width:g,height:h,opacity:c.opacity},css:c,label:'handleButton',component:a,container:{id:'brushGroup',label:'brushGroup',isParent:!0}}),a.addGraphicalElement({el:'path',attr:{path:`M ${e+3.5},${f+6} v ${h-12}
               M ${e+6.5},${f+6} v ${h-12}`,stroke:i,"stroke-width":'1',"stroke-linecap":'round'},label:'handlePath',component:a,css:{cursor:'ew-resize'},container:{id:'brushGroup',label:'brushGroup',isParent:!0}})}}export default Handle;